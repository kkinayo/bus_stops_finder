# –ê–Ω–∞–ª–∏–∑ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω–æ–π –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –∞–≤—Ç–æ–±—É—Å–Ω—ã—Ö –æ—Å—Ç–∞–Ω–æ–≤–æ–∫

–ì–µ–æ–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–æ–µ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω–æ–π –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –∞–≤—Ç–æ–±—É—Å–Ω—ã—Ö –æ—Å—Ç–∞–Ω–æ–≤–æ–∫ –≥–æ—Ä–æ–¥–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ –æ—Ç–∫—Ä—ã—Ç—ã—Ö –≥–µ–æ–¥–∞–Ω–Ω—ã—Ö OpenStreetMap.

–ü—Ä–æ–µ–∫—Ç –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ—Ç–æ–±—Ä–∞–∑–∏—Ç—å –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –æ–±—â–µ—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞ –Ω–∞ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–π –∫–∞—Ä—Ç–µ, –≤—ã–±—Ä–∞—Ç—å –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—É—é —Ç–æ—á–∫—É –∏ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –±–ª–∏–∂–∞–π—à—É—é –æ—Å—Ç–∞–Ω–æ–≤–∫—É —Å –≤—ã—á–∏—Å–ª–µ–Ω–∏–µ–º —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—è –¥–æ –Ω–µ—ë.

---

## –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–æ–ª—É—á–µ–Ω–∏–µ –∞–≤—Ç–æ–±—É—Å–Ω—ã—Ö –æ—Å—Ç–∞–Ω–æ–≤–æ–∫ –∏–∑ OpenStreetMap
- –ø—Ä–µ–¥–æ–±—Ä–∞–±–æ—Ç–∫–∞ –∏ –∞–Ω–∞–ª–∏–∑ –≥–µ–æ–¥–∞–Ω–Ω—ã—Ö
- –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –≤–µ–±-–∫–∞—Ä—Ç–∞
- –∫–ª–∞—Å—Ç–µ—Ä–∏–∑–∞—Ü–∏—è –æ—Å—Ç–∞–Ω–æ–≤–æ–∫
- –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–∏–ø–∞ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏
- –≤—ã–±–æ—Ä –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω–æ–π —Ç–æ—á–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º
- –≤—ã—á–∏—Å–ª–µ–Ω–∏–µ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—è –¥–æ –±–ª–∏–∂–∞–π—à–µ–π –æ—Å—Ç–∞–Ω–æ–≤–∫–∏
- –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –ª–∏–Ω–∏–∏ –¥–æ –±–ª–∏–∂–∞–π—à–µ–π –æ—Å—Ç–∞–Ω–æ–≤–∫–∏

---

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

–ü—Ä–æ–µ–∫—Ç —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω —Å —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ–º —ç—Ç–∞–ø–æ–≤ –ø–æ–ª—É—á–µ–Ω–∏—è, –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –≥–µ–æ–¥–∞–Ω–Ω—ã—Ö.
OpenStreetMap
‚Üì
Overpass API
‚Üì
stops.geojson
‚Üì
preprocess.py
‚Üì
stops_processed.geojson
‚Üì
–í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (Leaflet)

---

## –ò—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö

- **OpenStreetMap** ‚Äî –æ—Ç–∫—Ä—ã—Ç–∞—è –±–∞–∑–∞ –≥–µ–æ–¥–∞–Ω–Ω—ã—Ö
- **Overpass API** ‚Äî –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –≤—ã–±–æ—Ä–∫–∏ –æ–±—ä–µ–∫—Ç–æ–≤ –∏–∑ OSM

–ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ç–µ–≥–∏:
- `highway=bus_stop`
- `public_transport=platform`
- `public_transport=stop_position`

---

## –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–π —Å—Ç–µ–∫ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π

### –ü–æ–ª—É—á–µ–Ω–∏–µ –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö
- Python 3
- requests
- json

### –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è
- HTML
- CSS
- JavaScript
- Leaflet
- Leaflet.markercluster

### –ì–µ–æ–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏
- OpenStreetMap
- Overpass API
- GeoJSON
- GDAL/OGR (—á–µ—Ä–µ–∑ –≤—ã—Å–æ–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã–µ Python-–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã)

---

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
pip install requests
### 2. –ü–æ–ª—É—á–µ–Ω–∏–µ –≥–µ–æ–¥–∞–Ω–Ω—ã—Ö
python download_stops.py
### 3. –ü—Ä–µ–¥–æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö
python preprocess.py
### 4. –ó–∞–ø—É—Å–∫ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
python -m http.server 8000
### 5. –û—Ç–∫—Ä—ã—Ç—å –≤ –±—Ä–∞—É–∑–µ—Ä–µ
http://localhost:8000/web/index.html

---

## üåÜ –ò–∑–º–µ–Ω–µ–Ω–∏–µ –≥–æ—Ä–æ–¥–∞ (–Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç)

–ü—Ä–æ–µ–∫—Ç –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∞–Ω–∞–ª–∏–∑ –æ—Å—Ç–∞–Ω–æ–≤–æ–∫ **–ª—é–±–æ–≥–æ –≥–æ—Ä–æ–¥–∞**.  
–î–ª—è —ç—Ç–æ–≥–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∏–∑–º–µ–Ω–∏—Ç—å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –≥–æ—Ä–æ–¥–∞ **–≤ –¥–≤—É—Ö –º–µ—Å—Ç–∞—Ö**, —Ç–∞–∫ –∫–∞–∫ –æ–Ω–∏ –æ—Ç–≤–µ—á–∞—é—Ç –∑–∞ —Ä–∞–∑–Ω—ã–µ —ç—Ç–∞–ø—ã —Ä–∞–±–æ—Ç—ã —Å–∏—Å—Ç–µ–º—ã.

---

### 1Ô∏è‚É£ –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö (bbox)

–§–∞–π–ª: `download_stops.py`

–ó–¥–µ—Å—å –∑–∞–¥–∞—ë—Ç—Å—è **–ø—Ä—è–º–æ—É–≥–æ–ª—å–Ω–∏–∫ (bounding box)**, –≤–Ω—É—Ç—Ä–∏ –∫–æ—Ç–æ—Ä–æ–≥–æ Overpass API –≤—ã–±–∏—Ä–∞–µ—Ç –æ—Å—Ç–∞–Ω–æ–≤–∫–∏.

–§–æ—Ä–º–∞—Ç –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç: (min_lat, min_lon, max_lat, max_lon)

–ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è bbox **–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ** –ø–æ–≤—Ç–æ—Ä–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å:
`python download_stops.py`
`python preprocess.py`

–ü—Ä–∏–º–µ—Ä—ã bbox –¥–ª—è –≥–æ—Ä–æ–¥–æ–≤ (`download_stops.py`)
–ú–æ—Å–∫–≤–∞: node["highway"="bus_stop"](55.55, 37.35, 55.95, 37.90);
–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥: node["highway"="bus_stop"](59.83, 30.12, 60.06, 30.47);

–ü—Ä–∏–º–µ—Ä—ã —Ü–µ–Ω—Ç—Ä–æ–≤ –∫–∞—Ä—Ç—ã –¥–ª—è –≥–æ—Ä–æ–¥–æ–≤ (`index.html`)
–ú–æ—Å–∫–≤–∞: L.map('map').setView([55.7558, 37.6173], 12);
–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥: L.map('map').setView([59.9386, 30.3141], 12);
